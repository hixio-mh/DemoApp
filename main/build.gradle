apply plugin: "com.android.library"
apply plugin: "com.google.protobuf"

apply from: "${rootDir.path}/gradle/common.gradle"

android {
    resourcePrefix prefix.main
    defaultConfig.versionNameSuffix suffix.main
}

kapt {
    arguments {
        arg("objectbox.debug", true)
    }
}

protobuf {
    protoc {
        artifact = libs.protoc
    }
    generateProtoTasks {
        all().each { task ->
            task.builtins {
                java {
                    option "lite"
                }
            }
        }
    }
}

dependencies {
    implementation project(commonModule)
    implementation project(adapterModule)

    implementation libs.protobufLite
    implementation libs.moshi

    kapt libs.objectBoxKapt
}